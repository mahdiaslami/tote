import{v as w,n as b,o as c,c as p,r as T,w as I,a as x,b as l,d as $,p as S,e as C,f as N,g as B,t as V,h as E,i as m,j as g,F as y,k as L,l as O,m as K,q as R,s as q}from"./vendor.99a3d906.js";const A=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}};A();function W(t={}){const{immediate:e=!1,onNeedRefresh:s,onOfflineReady:a,onRegistered:o,onRegisterError:n}=t;let r,u;const v=async(i=!0)=>{i&&(r==null||r.addEventListener("controlling",d=>{d.isUpdate&&window.location.reload()})),u&&u.waiting&&await b(u.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){r=new w("/sw.js",{scope:"/"}),r.addEventListener("activated",i=>{i.isUpdate||a==null||a()});{const i=()=>{s==null||s()};r.addEventListener("waiting",i),r.addEventListener("externalwaiting",i)}r.register({immediate:e}).then(i=>{u=i,o==null||o(i)}).catch(i=>{n==null||n(i)})}return v}var f=(t,e)=>{const s=t.__vccOpts||t;for(const[a,o]of e)s[a]=o;return s};const j={emits:["click"],methods:{handleClick(t){this.$emit("click",t)}}};function P(t,e,s,a,o,n){return c(),p("button",{class:"btn-save p-10",onClick:e[0]||(e[0]=(...r)=>n.handleClick&&n.handleClick(...r))},[T(t.$slots,"default")])}var U=f(j,[["render",P]]);const D={},F={class:"navbar"};function J(t,e){return c(),p("div",F,"Tote")}var M=f(D,[["render",J],["__scopeId","data-v-67a88450"]]),z="/assets/writing-hand.71521691.gif";const G={props:{modelValue:{type:String,required:!0}},emits:["update:modelValue","enterKeyup"],computed:{value:{get(){return this.modelValue},set(t){return this.$emit("update:modelValue",t)}}}},H=t=>(S("data-v-6741de88"),t=t(),C(),t),Q={class:"title-input p-10"},X=H(()=>l("div",{class:"image"},[l("img",{src:z,alt:"writing-hand"})],-1));function Y(t,e,s,a,o,n){return c(),p("div",Q,[X,I(l("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>n.value=r),type:"text",dir:"auto",onKeyup:e[1]||(e[1]=$(r=>t.$emit("enterKeyup"),["enter"]))},null,544),[[x,n.value]])])}var Z=f(G,[["render",Y],["__scopeId","data-v-6741de88"]]);const h=document.location.pathname.split("/").pop();var k;const _=N((k=JSON.parse(localStorage.getItem(h)))!=null?k:[]);B(()=>localStorage.setItem(h,JSON.stringify(_.value)));function ee(t){_.value.push({id:new Date().getTime(),text:t,completed:!1})}function te(t){const e=_.value.find(s=>s.id===t);e.completed=!e.completed}function oe(t){const e=_.value.findIndex(s=>s.id===t);_.value.splice(e,1)}const ne={props:{focused:{type:Boolean,required:!1,default:!1},todo:{type:Object,required:!0}},emits:["click"],setup(){return{completeTodo:te,deleteTodo:oe}}},se={class:"task"},re=["checked"];function ae(t,e,s,a,o,n){return c(),p("div",se,[l("input",{class:"tick",type:"checkbox",checked:s.todo.completed,onChange:e[0]||(e[0]=()=>a.completeTodo(s.todo.id))},null,40,re),l("span",{class:E(["content",{"bold linethrough":s.todo.completed,underline:s.focused}]),dir:"auto",onClick:e[1]||(e[1]=r=>t.$emit("click"))},V(s.todo.text),3),l("button",{class:"btn-delete",onClick:e[2]||(e[2]=()=>a.deleteTodo(s.todo.id))}," \u2717 ")])}var ie=f(ne,[["render",ae]]);const de={name:"App",components:{BaseButton:U,Navbar:M,BaseInput:Z,TodoItem:ie},setup(){return{database:h,todos:_,addTodo:ee}},data(){return{newTodo:"",currentId:-1}},created(){document.title=`Todo: ${this.database}`},methods:{select(t){this.currentId===t?this.currentId=-1:this.currentId=t},saveTodo(){this.addTodo(this.newTodo),this.newTodo=""}}},le={class:"flex p-10"},ce=R(" Save ");function ue(t,e,s,a,o,n){const r=m("navbar"),u=m("todo-item"),v=m("base-input"),i=m("base-button");return c(),p(y,null,[g(r),l("div",null,[(c(!0),p(y,null,L(a.todos,d=>(c(),K(u,{key:d.id,todo:d,focused:d.id===o.currentId,onClick:()=>(n.select(d.id),!1)},null,8,["todo","focused","onClick"]))),128)),l("div",le,[g(v,{modelValue:o.newTodo,"onUpdate:modelValue":e[0]||(e[0]=d=>o.newTodo=d),class:"flex-grow",onEnterKeyup:n.saveTodo},null,8,["modelValue","onEnterKeyup"]),g(i,{onClick:n.saveTodo},{default:O(()=>[ce]),_:1},8,["onClick"])])])],64)}var pe=f(de,[["render",ue]]);q(pe).mount("#app");W({onNeedRefresh(){},onOfflineReady(){}});
