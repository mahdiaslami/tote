import{r as g,v as b,n as T,o as u,c as p,a as I,w as x,b as S,d as c,e as $,p as N,f as R,g as C,t as O,h as B,i as m,j as h,F as k,k as E,l as V,m as L,q as K,s as W}from"./vendor.f208158c.js";const q=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}};q();function A(t={}){const{immediate:e=!1,onNeedRefresh:s,onOfflineReady:i,onRegistered:o,onRegisterError:n}=t;let r,d;const v=async(a=!0)=>{a&&(r==null||r.addEventListener("controlling",l=>{l.isUpdate&&window.location.reload()})),d&&d.waiting&&await T(d.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){r=new b("/sw.js",{scope:"/"}),r.addEventListener("activated",a=>{a.isUpdate||i==null||i()});{const a=()=>{s==null||s()};r.addEventListener("waiting",a),r.addEventListener("externalwaiting",a)}r.register({immediate:e}).then(a=>{d=a,o==null||o(a)}).catch(a=>{n==null||n(a)})}return v}function j(t={}){const{immediate:e=!0,onNeedRefresh:s,onOfflineReady:i,onRegistered:o,onRegisterError:n}=t,r=g(!1),d=g(!1);return{updateServiceWorker:A({immediate:e,onNeedRefresh(){r.value=!0,s==null||s()},onOfflineReady(){d.value=!0,i==null||i()},onRegistered:o,onRegisterError:n}),offlineReady:d,needRefresh:r}}var _=(t,e)=>{const s=t.__vccOpts||t;for(const[i,o]of e)s[i]=o;return s};const P={emits:["click"],methods:{handleClick(t){this.$emit("click",t)}}};function U(t,e,s,i,o,n){return u(),p("button",{class:"btn-save p-10",onClick:e[0]||(e[0]=(...r)=>n.handleClick&&n.handleClick(...r))},[I(t.$slots,"default")])}var D=_(P,[["render",U]]);const F={},J={class:"navbar"};function M(t,e){return u(),p("p",J," Tote 3.1.2 ")}var z=_(F,[["render",M],["__scopeId","data-v-75a026ac"]]),G="/assets/writing-hand.71521691.gif";const H={props:{modelValue:{type:String,required:!0}},emits:["update:modelValue","enterKeyup"],computed:{value:{get(){return this.modelValue},set(t){return this.$emit("update:modelValue",t)}}}},Q=t=>(N("data-v-6741de88"),t=t(),R(),t),X={class:"title-input p-10"},Y=Q(()=>c("div",{class:"image"},[c("img",{src:G,alt:"writing-hand"})],-1));function Z(t,e,s,i,o,n){return u(),p("div",X,[Y,x(c("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>n.value=r),type:"text",dir:"auto",onKeyup:e[1]||(e[1]=$(r=>t.$emit("enterKeyup"),["enter"]))},null,544),[[S,n.value]])])}var ee=_(H,[["render",Z],["__scopeId","data-v-6741de88"]]);const y=document.location.pathname.split("/").pop();var w;const f=g((w=JSON.parse(localStorage.getItem(y)))!=null?w:[]);C(()=>localStorage.setItem(y,JSON.stringify(f.value)));function te(t){f.value.push({id:new Date().getTime(),text:t,completed:!1})}function oe(t){const e=f.value.find(s=>s.id===t);e.completed=!e.completed}function ne(t){const e=f.value.findIndex(s=>s.id===t);f.value.splice(e,1)}const se={props:{focused:{type:Boolean,required:!1,default:!1},todo:{type:Object,required:!0}},emits:["click"],setup(){return{completeTodo:oe,deleteTodo:ne}}},re={class:"task"},ie=["checked"];function ae(t,e,s,i,o,n){return u(),p("div",re,[c("input",{class:"tick",type:"checkbox",checked:s.todo.completed,onChange:e[0]||(e[0]=()=>i.completeTodo(s.todo.id))},null,40,ie),c("span",{class:B(["content",{"bold linethrough":s.todo.completed,underline:s.focused}]),dir:"auto",onClick:e[1]||(e[1]=r=>t.$emit("click"))},O(s.todo.text),3),c("button",{class:"btn-delete",onClick:e[2]||(e[2]=()=>i.deleteTodo(s.todo.id))}," \u2717 ")])}var de=_(se,[["render",ae]]);const le={name:"App",components:{BaseButton:D,Navbar:z,BaseInput:ee,TodoItem:de},setup(){return{database:y,todos:f,addTodo:te}},data(){return{newTodo:"",currentId:-1}},created(){document.title=`Todo: ${this.database}`},methods:{select(t){this.currentId===t?this.currentId=-1:this.currentId=t},saveTodo(){this.addTodo(this.newTodo),this.newTodo=""}}},ce={class:"flex p-10"},ue=K(" Save ");function pe(t,e,s,i,o,n){const r=m("navbar"),d=m("todo-item"),v=m("base-input"),a=m("base-button");return u(),p(k,null,[h(r),c("div",null,[(u(!0),p(k,null,E(i.todos,l=>(u(),L(d,{key:l.id,todo:l,focused:l.id===o.currentId,onClick:()=>(n.select(l.id),!1)},null,8,["todo","focused","onClick"]))),128)),c("div",ce,[h(v,{modelValue:o.newTodo,"onUpdate:modelValue":e[0]||(e[0]=l=>o.newTodo=l),class:"flex-grow",onEnterKeyup:n.saveTodo},null,8,["modelValue","onEnterKeyup"]),h(a,{onClick:n.saveTodo},{default:V(()=>[ue]),_:1},8,["onClick"])])])],64)}var fe=_(le,[["render",pe]]);W(fe).mount("#app");j({onNeedRefresh(){},onOfflineReady(){}});
